<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>GRUA PROJECT</title>

<style>
body{
  margin:0;
  font-family: "Pretendard", sans-serif;
  background:#071021;
  color:white;
}

h1{
  margin:40px 60px 10px;
  font-size:28px;
}

.subtitle{
  margin:0 60px 20px;
  color:#9bb4ff;
}

.map-wrap{
  width:1200px;
  height:700px;
  margin:0 auto 60px;
  background:#0c1b33;
  border-radius:18px;
  position:relative;
  overflow:hidden;
  border:1px solid rgba(255,255,255,0.08);
}

/* í¼ì¦ ì´ë¯¸ì§€ */
.puzzle-layer{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:1;
  opacity:.15;
  transition:all .6s ease;
}

.puzzle-layer img{
  width:900px;
  cursor:pointer;
  border-radius:12px;
}

/* 16ê°œ ë…¸ë“œ */
.nodes{
  position:absolute;
  inset:0;
  z-index:3;
}

.node{
  position:absolute;
  width:140px;
  height:90px;
  border-radius:16px;
  background:rgba(15,25,50,.95);
  border:1px solid rgba(255,255,255,.2);
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  font-size:14px;
  cursor:pointer;
  transition:.3s;
}

.node:hover{
  transform:scale(1.05);
  box-shadow:0 0 15px rgba(255,0,120,.6);
}

/* ì¶”ê°€ ì¥ì†Œ 6ê°œ */
.landmarks{
  position:absolute;
  inset:0;
  z-index:2;
}

.landmark{
  position:absolute;
  background:rgba(0,0,0,.6);
  padding:8px 14px;
  border-radius:20px;
  font-size:14px;
  border:1px solid rgba(255,255,255,.15);
}

/* ëª¨ë‹¬ */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center;
  justify-content:center;
}

.modal-box{
  width:400px;
  background:#0e1c38;
  padding:30px;
  border-radius:14px;
}

.modal input{
  width:100%;
  padding:10px;
  margin-top:10px;
  background:#132347;
  border:none;
  color:white;
  border-radius:8px;
}

.modal button{
  margin-top:15px;
  padding:10px 14px;
  background:#ff3d7f;
  border:none;
  color:white;
  border-radius:8px;
  cursor:pointer;
}
</style>
</head>

<body>

<h1>GRUA PROJECT</h1>
<div class="subtitle">16ê°œ ë…¸ë“œë¥¼ ëª¨ë‘ í•´ê¸ˆí•˜ë©´ ì„¸ê³„ê°€ ì—´ë¦½ë‹ˆë‹¤.</div>

<div class="map-wrap">

  <!-- í¼ì¦ ì´ë¯¸ì§€ -->
  <div class="puzzle-layer" id="puzzleLayer">
    <img src="puzzle.png" id="puzzleImage">
  </div>

  <!-- 6ê°œ ì¶”ê°€ ì¥ì†Œ -->
  <div class="landmarks">
    <div class="landmark" style="left:520px; top:350px;">ğŸŒ¿ ê´‘ì¥</div>
    <div class="landmark" style="left:520px; top:300px;">â›² ë¶„ìˆ˜</div>
    <div class="landmark" style="left:250px; top:500px;">ğŸ›ï¸ ê¸°ìˆ™ì‚¬</div>
    <div class="landmark" style="left:420px; top:200px;">ğŸ›ï¸ í•™ìƒíšŒê´€</div>
    <div class="landmark" style="left:820px; top:220px;">ğŸ½ï¸ ì‹ë‹¹</div>
    <div class="landmark" style="left:950px; top:500px;">ğŸ“š ë„ì„œê´€</div>
  </div>

  <!-- 16ê°œ íƒ€ì… ë…¸ë“œ -->
  <div class="nodes" id="nodes"></div>

</div>

<!-- ëª¨ë‹¬ -->
<div class="modal" id="modal">
  <div class="modal-box">
    <div id="question">ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”</div>
    <input type="text" id="answerInput" />
    <button onclick="submitAnswer()">ì •ë‹µ ì œì¶œ</button>
  </div>
</div>

<script>

const answers = [
  "IFAP","IFAB","IFLP","IFLB",
  "IEAP","IEAB","IELP","IELB",
  "OFAP","OFAB","OFLP","OFLB",
  "OEAP","OEAB","OELP","OELB"
];

let unlockedCount = 0;
let currentIndex = null;

const nodesContainer = document.getElementById("nodes");

for(let i=0;i<16;i++){
  const div = document.createElement("div");
  div.className="node";
  div.innerText=answers[i];
  div.style.left = (150 + (i%4)*220)+"px";
  div.style.top  = (100 + Math.floor(i/4)*150)+"px";
  div.onclick = () => openModal(i);
  nodesContainer.appendChild(div);
}

function openModal(index){
  currentIndex=index;
  document.getElementById("modal").style.display="flex";
}

function submitAnswer(){
  const input = document.getElementById("answerInput").value.trim();
  if(input === answers[currentIndex]){
    unlockedCount++;
    document.getElementsByClassName("node")[currentIndex].style.opacity=.3;
    document.getElementsByClassName("node")[currentIndex].style.pointerEvents="none";
    document.getElementById("modal").style.display="none";
    document.getElementById("answerInput").value="";

    if(unlockedCount===16){
      document.getElementById("puzzleLayer").style.opacity=1;
      document.getElementById("puzzleLayer").style.zIndex=10;
    }
  }else{
    alert("í‹€ë ¸ìŠµë‹ˆë‹¤.");
  }
}

document.getElementById("puzzleImage").onclick = function(){
  if(unlockedCount===16){
    window.location.href="world.html";
  }
}

</script>

</body>
</html>
